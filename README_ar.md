# ูุธุงู ุงูุฎุฑุงุฆุท ุงูุจุญุฑูุฉ ุงูุนุณูุฑูุฉ - ูุณุฎุฉ MVP ุชุฌุฑูุจูุฉ
## Private Naval Map System - MVP Demo

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุธุงู ุฎุฑุงุฆุท ุจุญุฑูุฉ ุนุณูุฑูุฉ ุชูุงุนูู ูุตูู ูุนุฑุถ ูุฅุฏุงุฑุฉ ุงูุฑููุฒ ูุงูููุงูุน ุงูุนุณูุฑูุฉ ุงูุจุญุฑูุฉ. ูุฐู ูุณุฎุฉ MVP ุชุฌุฑูุจูุฉ ููุนุฑุถ ูุงูุงุฎุชุจุงุฑ.

---

## ๐ ุงูุชุดุบูู ุงูุณุฑูุน

### 1. ุชุซุจูุช ุงููุชุทูุจุงุช

```bash
npm install
```

### 2. ุฅุนุฏุงุฏ ุฑูุฒ Mapbox

ุงูุชุญ ุงูููู `src/components/military/MilitaryMap.tsx` ูุงุจุญุซ ุนู ุงูุณุทุฑ:

```typescript
const MAPBOX_ACCESS_TOKEN = 'REPLACE_WITH_YOUR_MAPBOX_TOKEN';
```

ุงุณุชุจุฏู `REPLACE_WITH_YOUR_MAPBOX_TOKEN` ุจุฑูุฒ Mapbox ุงูุนุงู ุงูุฎุงุต ุจู (`pk.*`).

ููุญุตูู ุนูู ุฑูุฒ Mapbox:
1. ุงูุชูู ุฅูู https://mapbox.com
2. ูู ุจุฅูุดุงุก ุญุณุงุจ ุฃู ุชุณุฌูู ุงูุฏุฎูู
3. ุงูุชูู ุฅูู ููุญุฉ ุงูุชุญูู โ Tokens
4. ุงูุณุฎ ุงูุฑูุฒ ุงูุนุงู (Public Token) ุงูุฐู ูุจุฏุฃ ุจู `pk.`

### 3. ุชุดุบูู ุงูุชุทุจูู

```bash
npm run dev
```

### 4. ุชุณุฌูู ุงูุฏุฎูู (ูุณุฎุฉ ุชุฌุฑูุจูุฉ)

- **ุงุณู ุงููุณุชุฎุฏู:** `user`
- **ูููุฉ ุงููุฑูุฑ:** `Aa123456`

---

## โ๏ธ ููุงุญุธุงุช ุฃูููุฉ ูููุฉ ุฌุฏุงู

### ๐ ุญูุงูุฉ ุฑููุฒ ุงููุตูู (API Tokens)

**ุชุญุฐูุฑ:** ูุฐู ุงููุณุฎุฉ ุชุฌุฑูุจูุฉ ููุท. ูู ุงููุณุฎ ุงูุฅูุชุงุฌูุฉ:

#### 1. ูุง ุชุถุน ุงูุฑููุฒ ุงูุณุฑูุฉ ูู ุงูููุฏ ุงูุฃูุงูู (Client-Side)

```javascript
// โ ุฎุทุฃ - ูููู ูุฃู ุดุฎุต ุฑุคูุฉ ุงูุฑูุฒ ูู ูุชุตูุญู
const MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoieW91ci1zZWNyZXQta2V5...';
```

**ููุงุฐุง ูุฐุง ุฎุทูุฑุ**
- ุฃู ุดุฎุต ููุชุญ ุงูุชุทุจูู ููููู ุฑุคูุฉ ุงูุฑูุฒ ูู ููุฏ ุงููุตุฏุฑ
- ูููู ุงุณุชุฎุฏุงู ุงูุฑูุฒ ูู ูุจู ุงูุขุฎุฑูู ููุง ูุคุฏู ุฅูู:
  - ุงุณุชูุฒุงู ุงูุญุตุฉ ุงููุฌุงููุฉ (quota)
  - ุชูุงููู ูุงููุฉ ุบูุฑ ูุชููุนุฉ
  - ุฅุณุงุกุฉ ุงุณุชุฎุฏุงู ุงูุญุณุงุจ

#### 2. ุงูุญููู ุงูุขููุฉ ููุฅูุชุงุฌ

**ุงูุญู ุฃ: ุงุณุชุฎุฏุงู ุฑููุฒ ุนุงูุฉ ูุญุฏูุฏุฉ Restricted Public Tokens**

```javascript
// โ ุตุญูุญ - ุงุณุชุฎุฏุงู ุฑูุฒ ุนุงู ูุญุฏูุฏ ููุท ูุทุจูุงุช ุงูุฎุฑุงุฆุท
// ูู ุจุชูููุฏ ุงูุฑูุฒ ูู ููุญุฉ ุชุญูู Mapbox:
// - ุงูุณูุงุญ ููุท ููุทุงูุงุช (domains) ูุญุฏุฏุฉ
// - ุงูุณูุงุญ ููุท ุจุทูุจุงุช ุงูุฎุฑุงุฆุท (tiles)
// - ููุน ุงูุนูููุงุช ุงูุญุณุงุณุฉ
```

**ุงูุญู ุจ: ุงุณุชุฎุฏุงู ุฎุงุฏู ูุณูุท (Proxy Server)**

```javascript
// ูู ุงูุฎุงุฏู (Node.js ูุซูุงู):
app.get('/api/map-tiles/:z/:x/:y', async (req, res) => {
  const { z, x, y } = req.params;
  const MAPBOX_SECRET = process.env.MAPBOX_SECRET; // ูุฎุฒู ุจุดูู ุขูู
  
  const response = await fetch(
    `https://api.mapbox.com/styles/v1/mapbox/dark-v11/tiles/${z}/${x}/${y}?access_token=${MAPBOX_SECRET}`
  );
  
  const data = await response.buffer();
  res.send(data);
});

// ูู ุงูููุฏ ุงูุฃูุงูู:
L.tileLayer('/api/map-tiles/{z}/{x}/{y}').addTo(map);
```

**ุงูุญู ุฌ: ุฏูุฑุงู ุงูุฑููุฒ (Token Rotation)**

ูู ุจุชูููุฏ ุฑููุฒ ูุคูุชุฉ ูู ุงูุฎุงุฏู ูู ูุชุฑุฉ ุฒูููุฉ ูุญุฏุฏุฉ.

---

### ๐ ููู ุงููุตุงุฏูุฉ ุฅูู ุงูุฎุงุฏู

**ุงููุดููุฉ ุงูุญุงููุฉ (ุชุฌุฑูุจู ููุท):**

```typescript
// โ DEMO ONLY - ุงููุตุงุฏูุฉ ูู ุงููุชุตูุญ
const DEMO_CREDENTIALS = {
  username: "user",
  password: "Aa123456"
};

if (username === DEMO_CREDENTIALS.username && password === DEMO_CREDENTIALS.password) {
  onLogin();
}
```

**ูุฐุง ุฎุทูุฑ ูุฃู:**
- ูููุฉ ุงููุฑูุฑ ููุดููุฉ ูู ุงูููุฏ
- ูููู ูุฃู ุดุฎุต ุฑุคูุฉ ุขููุฉ ุงููุตุงุฏูุฉ
- ูุง ุชูุฌุฏ ุญูุงูุฉ ุถุฏ ุงููุฌูุงุช ุงููุชูุฑุฑุฉ (brute force)

---

### โ ุงูุญู ุงูุขูู: ุงููุตุงุฏูุฉ ูู ุงูุฎุงุฏู

#### ุงูุฎุทูุฉ 1: ุฅูุดุงุก API ูููุตุงุฏูุฉ ุนูู ุงูุฎุงุฏู

```javascript
// ูู ุงูุฎุงุฏู (server.js)
const bcrypt = require('bcrypt');
const jwt = require('jsonwebtoken');

app.post('/api/auth/login', async (req, res) => {
  const { username, password } = req.body;
  
  // ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  const user = await db.users.findOne({ username });
  
  if (!user) {
    return res.status(401).json({ error: 'ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ' });
  }
  
  // ุงูุชุญูู ูู ูููุฉ ุงููุฑูุฑ (ูุดูุฑุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช)
  const isValid = await bcrypt.compare(password, user.passwordHash);
  
  if (!isValid) {
    return res.status(401).json({ error: 'ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ' });
  }
  
  // ุชูููุฏ ุฑูุฒ JWT
  const token = jwt.sign(
    { userId: user.id, username: user.username },
    process.env.JWT_SECRET,
    { expiresIn: '24h' }
  );
  
  res.json({ token, user: { username: user.username } });
});
```

#### ุงูุฎุทูุฉ 2: ุงุณุชุฎุฏุงู ุงูุฑูุฒ ูู ุงูููุฏ ุงูุฃูุงูู

```typescript
// ูู React/Frontend
const handleLogin = async (username: string, password: string) => {
  try {
    const response = await fetch('/api/auth/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ username, password })
    });
    
    if (!response.ok) {
      throw new Error('ูุดู ุชุณุฌูู ุงูุฏุฎูู');
    }
    
    const { token } = await response.json();
    
    // ุชุฎุฒูู ุงูุฑูุฒ ุจุดูู ุขูู
    localStorage.setItem('auth_token', token);
    
    // ุงูุขู ุงููุณุชุฎุฏู ูุตุงุฏู
    onLogin();
  } catch (error) {
    showError('ุงุณู ุงููุณุชุฎุฏู ุฃู ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ');
  }
};
```

#### ุงูุฎุทูุฉ 3: ุญูุงูุฉ ุงูุทูุจุงุช

```typescript
// ุฅุถุงูุฉ ุงูุฑูุฒ ููู ุทูุจ
const token = localStorage.getItem('auth_token');

fetch('/api/protected-route', {
  headers: {
    'Authorization': `Bearer ${token}`
  }
});
```

---

## ๐ก๏ธ ูุงุฆูุฉ ูุญุต ุงูุฃูุงู ููุฅูุชุงุฌ

- [ ] ููู ุงููุตุงุฏูุฉ ุฅูู ุงูุฎุงุฏู
- [ ] ุงุณุชุฎุฏุงู HTTPS ููุท
- [ ] ุชุดููุฑ ูููุงุช ุงููุฑูุฑ (bcrypt ุฃู Argon2)
- [ ] ุงุณุชุฎุฏุงู JWT ุฃู Sessions ููุฌูุณุงุช
- [ ] ุฅุฎูุงุก ุงูุฑููุฒ ุงูุณุฑูุฉ ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ (.env)
- [ ] ุชูููุฏ ุฑููุฒ Mapbox ุญุณุจ ุงููุทุงู
- [ ] ุฅุถุงูุฉ Rate Limiting ูููุน ุงููุฌูุงุช ุงููุชูุฑุฑุฉ
- [ ] ุชุณุฌูู ูุญุงููุงุช ุชุณุฌูู ุงูุฏุฎูู ุงููุงุดูุฉ
- [ ] ุฅุถุงูุฉ 2FA (ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ) ููุญุณุงุจุงุช ุงูุญุณุงุณุฉ
- [ ] ุงุณุชุฎุฏุงู Content Security Policy (CSP) Headers
- [ ] ุงูุชุญูู ูู ุตุญุฉ ุงููุฏุฎูุงุช ุนูู ุงูุฎุงุฏู
- [ ] ูุญุต ุงูุซุบุฑุงุช ุงูุฃูููุฉ ุจุดูู ุฏูุฑู

---

## ๐ ูููู ุงููุดุฑูุน

```
src/
โโโ components/
โ   โโโ auth/
โ   โ   โโโ LoginScreen.tsx          # ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู
โ   โโโ military/
โ   โ   โโโ MilitaryMap.tsx          # ุงูุฎุฑูุทุฉ ุงูุฑุฆูุณูุฉ
โ   โ   โโโ MilitarySymbolIcons.tsx  # ุฃููููุงุช ุงูุฑููุฒ ุงูุนุณูุฑูุฉ
โ   โ   โโโ MapControls.tsx          # ุนูุงุตุฑ ุงูุชุญูู ุจุงูุทุจูุงุช
โ   โ   โโโ MapLegend.tsx            # ููุชุงุญ ุงูุฑููุฒ
โ   โ   โโโ SearchPanel.tsx          # ููุญุฉ ุงูุจุญุซ
โ   โโโ ui/                          # ููููุงุช ุงููุงุฌูุฉ
โโโ pages/
โ   โโโ Index.tsx                    # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
โโโ utils/
    โโโ navigationCalc.ts            # ุญุณุงุจุงุช ุงูููุงุญุฉ

public/
โโโ data/
    โโโ markers.geojson              # ุจูุงูุงุช ุงูุฑููุฒ ุงูุนุณูุฑูุฉ
```

---

## ๐ฏ ุงูููุฒุงุช

### โ ุงููุตุงุฏูุฉ (ุชุฌุฑูุจู)
- ุดุงุดุฉ ุชุณุฌูู ุฏุฎูู ุนุฑุจูุฉ RTL
- ูุตุงุฏูุฉ ุนููู ุชุฌุฑูุจูุฉ (ููุงุฎุชุจุงุฑ ููุท)

### ๐บ๏ธ ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ
- ุฎุฑูุทุฉ Leaflet ูุน ุทุจูุงุช Mapbox
- ููุถูุน ุฏุงูู ููุงุฆู ููุฌุณุฑ ุงูุจุญุฑู
- ุนุฑุถ ุงูุฅุญุฏุงุซูุงุช ุงูุญูุฉ
- ุนูุงุตุฑ ุชุญูู ุจุงูุชูุจูุฑ ูุงููููุงุณ

### ๐๏ธ ุงูุฑููุฒ ุงูุนุณูุฑูุฉ (11 ููุน)
- ุณูู (ุฏูุฑูุฉุ ูุฑูุงุทุฉุ ุชุฌุงุฑูุฉ)
- ุบูุงุตุงุช
- ููุงุนุฏ ุจุญุฑูุฉ ูุซููุงุช
- ููุงูุฆ
- ุฎุทูุท ุฏูุงุนูุฉ
- ุฃุจุฑุงุฌ ูุฑุงูุจุฉ
- ุนูุงูุงุช ููุงุญูุฉ
- ููุงุทู ูุญุธูุฑุฉ
- ููุงุท ุฑุณู
- ููุงุจุท ูููููุจุชุฑ
- ุญููู ุฃูุบุงู

### ๐ง ุนูุงุตุฑ ุงูุชุญูู
- ุชุจุฏูู ุงูุทุจูุงุช ุญุณุจ ุงูููุน
- ุจุญุซ ุจุงูุงุณู ุงูุนุฑุจู
- ููุชุงุญ ุงูุฑููุฒ
- ุญูุธ ููุถุน ุงูุนุฑุถ ูู LocalStorage

---

## ๐ง ููุชุทููุฑ ุงููุณุชูุจูู

- [ ] ุฅุถุงูุฉ ูุตุงุฏูุฉ ุญููููุฉ ูู ุงูุฎุงุฏู
- [ ] ุชูุงูู AIS ูุชุชุจุน ุงูุณูู ุงูุญูุฉ
- [ ] ุฑุณู ุงููุณุงุฑุงุช ูุงูุชุฎุทูุท
- [ ] ุจูุงูุงุช ุงูุทูุณ ุงูุจุญุฑู
- [ ] ุทุจูุงุช ุฃุนูุงู ุงูููุงู
- [ ] ุชูุจููุงุช ุงููุฎุงุทุฑ
- [ ] ุฏุนู Multi-user ูุตูุงุญูุงุช

---

## ๐ ููุงุญุธุงุช ุงููุทูุฑ

**ููุชุฐููุฑ:** ูุฐุง MVP ุชุฌุฑูุจู ููุนุฑุถ. ูุจู ุงูุฅูุชุงุฌ:

1. **ุงูุฃูุงู ุฃููุงู** - ููู ูู ุงููุตุงุฏูุฉ ูุงูุฑููุฒ ุงูุณุฑูุฉ ููุฎุงุฏู
2. **ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก** - ูุน ุจูุงูุงุช GeoJSON ูุจูุฑุฉุ ุงุณุชุฎุฏู clustering
3. **ุงูุงุญุชูุงุทู** - ุงุญูุธ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุจูุงูุงุช ูููุณ localStorage ููุท
4. **ุงููุฑุงูุจุฉ** - ุฃุถู ุชุณุฌูู ุงูุฃุฎุทุงุก ูุงููุฑุงูุจุฉ
5. **ุงููุซุงุฆู** - ูุซู API endpoints ููููู ุงูุจูุงูุงุช

---

## ๐ ุงูุฏุนู

ููุฃุณุฆูุฉ ุฃู ุงููุดุงููุ ุงูุชุญ Issue ูู ุงููุณุชูุฏุน.

---

**ุชู ุจูุงุคู ุจู โค๏ธ ููุจุญุงุฑุฉ ูุงูุญุฑุงุณ ุงูุจุญุฑููู** โ๐

*"ุงูุจุญุฑ ูุง ูุบูุฑ ุงูุฃุฎุทุงุกุ ููู ุงูุฎุฑุงุฆุท ุงูุฌูุฏุฉ ุชููุนูุง"*
